<block s-if="{{$imgurl}}"><view><form data-event-opts="{{[['submit',[['formSubmit',['$event']]]],['reset',[['formReset',['$event']]]]]}}" bindsubmit="__e" bindreset="__e"><view class="pro_edit_box"><view><view class="pro_type">基本信息</view><view class="pro_type_box"><view class="flex_bbox type_item"><view class="type_item_title">商品名称</view><view><input type="text" name="proname" data-event-opts="{{[['input',[['input_name',['$event']]]]]}}" value="{{pro_name}}" bindinput="__e"/></view></view><view data-event-opts="{{[['tap',[['chooseColumn',['$event']]]]]}}" class="flex_bbox type_item" bindtap="__e"><view class="type_item_title">商品栏目</view><view class="flex_box"><view>{{pro_lanmu}}</view><view class="iconfont icon-x-you"></view></view></view><view class="type_item"><view class="type_item_title" style="margin-bottom:14rpx;">缩略图</view><block s-if="{{pro_thumb}}"><view class="choose_img"><image class="choose_itemimg" src="{{pro_thumb}}" mode="aspectFill"></image></view></block><view data-event-opts="{{[['tap',[['chooseThumb',['$event']]]]]}}" class="choose_img_box" bindtap="__e"><image class="choose_nullimg" src="{{$imgurl+'camera.png'}}" mode="aspectFill"></image></view></view><view class="type_itemno"><view class="type_item_title" style="margin-bottom:14rpx;">商品主图</view><block s-for="{{pro_text}}" s-for-item="item" s-for-index="key" s-key="key"><view class="choose_img"><image class="choose_itemimg" src="{{item}}" mode="aspectFill"></image><view class="relase_close_box" data-index="{{key}}" data-event-opts="{{[['tap',[['delimg',['$event']]]]]}}" bindtap="__e"><view class="iconfont icon-x-guanbi2"></view></view></view></block><view data-event-opts="{{[['tap',[['chooseThumbs',['$event']]]]]}}" class="choose_img_box" bindtap="__e"><image class="choose_nullimg" src="{{$imgurl+'camera.png'}}" mode="aspectFill"></image></view></view></view></view><view><view class="pro_type">商品属性</view><view class="pro_type_box"><view class="flex_bbox type_item"><view class="choose_name">是否上架</view><view><switch checked="{{iseShelf}}" color="#3960D1" data-event-opts="{{[['change',[['changeShelf',['$event']]]]]}}" bindchange="__e"></switch></view></view><view class="flex_bbox type_item"><view class="type_item_title">取货方式</view><view class="flex_box"><picker range="{{arr2}}" data-event-opts="{{[['change',[['choosePickup',['$event']]]]]}}" bindchange="__e"><view>{{arr2[index2]}}</view></picker><view class="iconfont icon-x-you"></view></view></view><block s-if="{{index2!=1}}"><block><view class="flex_bbox type_item"><view class="type_item_title">运费设置</view><view class="flex_box"><picker range="{{arr3}}" data-event-opts="{{[['change',[['chooseFreight',['$event']]]]]}}" bindchange="__e"><view>{{arr3[index3]}}</view></picker><view class="iconfont icon-x-you"></view></view></view><block s-if="{{index3==0}}"><view class="flex_bbox type_item"><view class="type_item_title">固定运费</view><view class="flex_box"><input type="number" name="freight" data-event-opts="{{[['input',[['input_freight',['$event']]]]]}}" value="{{pro_freight}}" bindinput="__e"/><view>元</view></view></view></block><block s-if="{{index3==1}}"><view class="flex_bbox type_itemno"><view class="type_item_title">运费模板</view><view class="flex_box"><picker range="{{arr4}}" data-event-opts="{{[['change',[['chooseMould',['$event']]]]]}}" bindchange="__e"><view>{{arr4[index4]}}</view></picker><view class="iconfont icon-x-you"></view></view></view></block></block></block></view></view><view><view class="pro_type">商品规格</view><view class="pro_type_box"><view class="flex_bbox type_item"><view class="type_item_title">规格</view><view class="flex_box"><picker range="{{arr5}}" data-event-opts="{{[['change',[['chooseGuige',['$event']]]]]}}" bindchange="__e"><view>{{arr5[index5]}}</view></picker><view class="iconfont icon-x-you"></view></view></view><block s-if="{{index5==0}}"><block><view class="flex_bbox type_item"><view class="type_item_title">市场价</view><view class="flex_box"><input type="number" name="market" data-event-opts="{{[['input',[['input_market',['$event']]]]]}}" value="{{pro_market}}" bindinput="__e"/><view>元</view></view></view><view class="flex_bbox type_item"><view class="type_item_title">售价</view><view class="flex_box"><input type="number" name="price" data-event-opts="{{[['input',[['input_price',['$event']]]]]}}" value="{{pro_price}}" bindinput="__e"/><view>元</view></view></view><view class="flex_bbox type_item"><view class="type_item_title">库存</view><view><input type="number" name="stock" data-event-opts="{{[['input',[['input_stock',['$event']]]]]}}" value="{{pro_stock}}" bindinput="__e"/></view></view><view class="flex_bbox type_itemno"><view class="type_item_title">销量</view><view class="flex_box"><view>虚拟</view><input class="sales_xn" type="number" name="vsales" data-event-opts="{{[['input',[['input_vsales',['$event']]]]]}}" value="{{pro_vsales}}" bindinput="__e"/><view>真实</view><view class="sales_real">{{''+pro_sales+''}}</view></view></view></block></block><block s-if="{{index5==1}}"><block><block s-if="{{pro_guig_count<3}}"><block><view data-event-opts="{{[['tap',[['addGgbox',['$event']]]]]}}" class="flex_box add_guige" bindtap="__e"><view class="iconfont icon-x-jia1"></view><view>添加规格</view></view></block></block></block></block></view></view><block s-if="{{index5==1}}"><view><view class="pro_type_box" style="margin-top:20rpx;"><block s-for="{{pro_guig}}" s-for-item="item" s-for-index="key" s-key="key"><block><view class="type_item"><view class="flex_bbox"><view class="type_item_title">{{key}}</view><view class="type_item_change" data-index="{{key}}" data-event-opts="{{[['tap',[['editGuige',['$event']]]]]}}" bindtap="__e">修改</view></view><view><block s-for="{{item}}" s-for-item="i" s-for-index="k" s-key="k"><block><block s-if="{{curr_gg_attr[key]==k}}"><block><view class="ggz_sx_on" data-index="{{key}}" data-kk="{{k}}" data-event-opts="{{[['tap',[['changeGuigeVlue',['$event']]]]]}}" bindtap="__e">{{i}}</view></block></block><block s-else><block><view class="ggz_sx" data-index="{{key}}" data-kk="{{k}}" data-event-opts="{{[['tap',[['changeGuigeVlue',['$event']]]]]}}" bindtap="__e">{{i}}</view></block></block></block></block></view></view></block></block><view class="duogg_box"><view class="flex_bbox type_item"><view class="type_item_title">售价</view><view class="flex_box"><input type="number" name="dprice" data-event-opts="{{[['input',[['input_dprice',['$event']]]]]}}" value="{{curr_gg_attr_value.price}}" bindinput="__e"/><view>元</view></view></view><view class="flex_bbox type_item"><view class="type_item_title">库存</view><view><input type="number" name="dstock" data-event-opts="{{[['input',[['input_dstock',['$event']]]]]}}" value="{{curr_gg_attr_value.kc}}" bindinput="__e"/></view></view><view class="flex_bbox type_item"><view class="type_item_title">规格图</view><view data-event-opts="{{[['tap',[['chooseGuigeThumb',['$event']]]]]}}" class="choose_img_gg" bindtap="__e"><block s-if="{{curr_gg_attr_value.thumb}}"><block><image class="img_gg" src="{{curr_gg_attr_value.thumb}}" mode="aspectFill"></image></block></block><block s-else><block>请选择</block></block></view></view></view></view></view></block><view><view class="pro_type">商品详情</view><view data-event-opts="{{[['tap',[['getEditor',['$event']]]]]}}" class="pro_type_box" bindtap="__e"><view class="flex_bbox type_itemno"><view class="type_item_title">商品详情</view><view class="iconfont icon-x-you"></view></view></view></view><view><view class="pro_type">积分设置</view><view class="pro_type_box"><view class="flex_bbox type_item"><view class="type_item_title">抵用积分</view><view class="flex_box"><input type="number" placeholder="示例: 100" name="usejf" data-event-opts="{{[['input',[['input_usejf',['$event']]]]]}}" value="{{pro_usejf}}" bindinput="__e"/><view></view></view></view><view class="flex_bbox type_item"><view class="type_item_title">买送积分</view><view class="flex_box"><input type="number" placeholder="示例: 100或10%" name="givejf" data-event-opts="{{[['input',[['input_givejf',['$event']]]]]}}" value="{{pro_givejf}}" bindinput="__e"/></view></view><view class="flex_bbox type_itemno"><view class="type_item_title">积分分享规则</view><view><switch checked="{{isShare}}" color="#3960D1" data-event-opts="{{[['change',[['changeJfShare',['$event']]]]]}}" bindchange="__e"></switch></view></view><block s-if="{{isShare}}"><view class="flex_bbox type_itemno"><view class="type_item_title">分享积分</view><view class="flex_box"><view>单次</view><input class="sales_xn" type="number" name="onejf" data-event-opts="{{[['input',[['input_onejf',['$event']]]]]}}" value="{{pro_onejf}}" bindinput="__e"/><view>限制</view><input class="sales_xn" type="number" name="limitjf" data-event-opts="{{[['input',[['input_limitjf',['$event']]]]]}}" value="{{pro_limitjf}}" bindinput="__e"/></view></view></block></view></view><view><view class="pro_type">会员设置</view><view class="pro_type_box"><view class="flex_bbox type_item"><view class="type_item_title">会员购买</view><view><switch checked="{{isVip}}" color="#3960D1" data-event-opts="{{[['change',[['changeBuy',['$event']]]]]}}" bindchange="__e"></switch></view></view></view></view><view><view class="pro_type">分销设置</view><view class="pro_type_box"><view class="flex_bbox type_itemno"><view class="type_item_title">单独分销设置</view><view><switch checked="{{isFx}}" color="#3960D1" data-event-opts="{{[['change',[['changeFx',['$event']]]]]}}" bindchange="__e"></switch></view></view></view></view></view><view class="btn_tj"><button class="form_tj" formType="submit">确定</button></view><block s-if="{{showlanmu==1}}"><view class="add_ggbox"><view class="add_lmmsg"><view class="add_msg_top">选择栏目</view><view data-event-opts="{{[['tap',[['closelanmu',['$event']]]]]}}" class="iconfont icon-x-guanbi" bindtap="__e"></view><view class="add_content"><view class="choose_box"><block s-for="{{cate_all}}" s-for-item="item" s-for-index="key" s-key="key"><block><view class="lanmu_item" data-id="{{item.id}}" data-isch="{{item.choose}}" data-event-opts="{{[['tap',[['chooseCate',['$event']]]]]}}" bindtap="__e"><view class="flex_box"><block s-if="{{item.choose==true}}"><block><view class="iconfont icon-x-duoxuankuangx"></view></block></block><block s-else><block><view class="iconfont icon-x-duoxuankuang"></view></block></block><view class="itemlanmu_text">{{item.name}}</view></view></view></block></block></view></view><view class="flex_box add_msgbtn"><view data-event-opts="{{[['tap',[['closelanmu',['$event']]]]]}}" class="sure_add" style="width:100%;" bindtap="__e">确定</view></view></view></view></block><block s-if="{{gg_box==1}}"><view class="add_ggbox"><view class="add_ggmsg"><view class="add_msg_top">{{add_edit_gg==1?'添加规格':'编辑规格'}}</view><view data-event-opts="{{[['tap',[['closeGgbox',['$event']]]]]}}" class="iconfont icon-x-guanbi" bindtap="__e"></view><view class="add_content"><view class="flex_box" style="margin-bottom:20rpx;"><view class="gg_name">规格名称</view><view><block s-if="{{add_edit_gg==1}}"><block><input class="gg_inpname" type="text" value="" data-event-opts="{{[['input',[['addInputGgName',['$event']]]]]}}" bindinput="__e"/></block></block><block s-else><block><input class="gg_inpname" type="text" disabled="true" value="{{add_gg}}"/></block></block></view></view><view class="flex_box" style="align-items:flex-start;"><view class="gg_name" style="margin-top:24rpx;">规格属性</view><view class="ggz_items"><block s-for="{{show_gg_attr}}" s-for-item="item" s-for-index="key" s-key="key"><block><view class="gg_item_list"><view class="gg_items">{{item}}</view><view class="gg_items_close iconfont icon-x-guanbi2" data-key="{{key}}" data-event-opts="{{[['tap',[['del_gg_attr',['$event']]]]]}}" bindtap="__e"></view></view></block></block><view class="gg_item_list"><view data-event-opts="{{[['tap',[['add_ggz',['$event']]]]]}}" class="iconfont icon-x-jia" bindtap="__e"></view></view></view></view><block s-if="{{ggz_box==1}}"><view class="flex_box" style="margin-top:20rpx;"><view class="ggz_add"><input class="gg_inpname" type="text" data-event-opts="{{[['input',[['getinpggz',['$event']]]]]}}" value="{{inpggz}}" bindinput="__e"/></view><view data-event-opts="{{[['tap',[['addSureggz',['$event']]]]]}}" class="ggz_add_sure iconfont icon-x-dui" bindtap="__e"></view></view></block></view><view class="flex_box add_msgbtn"><block s-if="{{add_edit_gg==1}}"><block><view data-event-opts="{{[['tap',[['addGuiGe',['$event']]]]]}}" class="sure_add" style="width:100%;" bindtap="__e">确定</view></block></block><block s-else><block><view data-event-opts="{{[['tap',[['delGgbox',['$event']]]]]}}" class="close_add" bindtap="__e">删除</view><view data-event-opts="{{[['tap',[['addGuiGe',['$event']]]]]}}" class="sure_add" bindtap="__e">确定</view></block></block></view></view></view></block></form></view></block>