<view class="_div"><block s-if="{{needAuth}}"><auth vue-id="1" needAuth="{{needAuth}}" data-event-opts="{{[['^closeAuth',[['closeAuth']]],['^cell',[['cell']]]]}}" bind:closeAuth="__e" bind:cell="__e"></auth></block><block s-if="{{needBind}}"><bind-phone vue-id="2" needBind="{{needBind}}" data-event-opts="{{[['^closeBind',[['closeBind']]]]}}" bind:closeBind="__e"></bind-phone></block><view class="container"><view class="binder" style="{{('background:url('+tongj.qdbg+') bottom  center '+baseinfo.base_color2+' no-repeat;color:'+baseinfo.base_tcolor+';background-size:100%')}}"><view class="grxx"><image class="grxx_img" src="{{userinfo.avatar}}"></image><view class="grxx_middle"><view>{{userinfo.nickname}}</view><view class="grxx_middle_jf">{{"积分："+tongj.score.score}}</view><navigator class="grxx_right" url="/pagesSign/ranking/ranking">签到排行榜</navigator></view></view><view class="qdxx"><view class="qdxx1"><text>{{tongj.paix}}</text><text>当前排名</text></view><view class="qdxx1"><text>{{tongj.all_count}}</text><text>累计签到</text></view><view class="qdxx1"><text>{{tongj.lianq}}</text><text>连续签到</text></view><view class="qdxx1"><text>{{tongj.maxlianq}}</text><text>最大连续</text></view></view></view><view class="flexs box box-tb box-align-center"><view class="calendar pink-color box box-tb"><view class="top-handle fs28 box box-lr box-align-center box-pack-center"><view class="prev box box-rl" data-handle="prev" data-event-opts="{{[['tap',[['handleCalendar',['$event']]]]]}}" bindtap="__e"><view class="prev-handle box box-lr box-align-center box-pack-center">《</view></view><view data-event-opts="{{[['tap',[['chooseYearAndMonth',['$event']]]]]}}" class="date-area box box-lr box-align-center box-pack-center" bindtap="__e">{{(cur_year||"--")+"\\n\\t\t\\t\t\\t\t年 "+(cur_month||"--")+" 月"}}</view><view class="next box box-lr" data-handle="next" data-event-opts="{{[['tap',[['handleCalendar',['$event']]]]]}}" bindtap="__e"><view class="next-handle box box-lr box-align-center box-pack-center">》</view></view></view><view class="weeks box box-lr box-pack-center box-align-center"><block s-for="{{weeks_ch}}" s-for-item="item" s-for-index="index" s-key="index"><view class="flexs week fs28" style="text-align:center;" data-idx="{{index}}">{{item}}</view></block></view><view class="days box box-lr box-wrap"><block s-for="{{empytGrids}}" s-for-item="item" s-for-index="index" s-key="index"><block s-if="{{hasEmptyGrid}}"><view class="grid white-color box box-align-center box-pack-center" data-idx="{{index}}"></view></block></block><block s-for="{{days}}" s-for-item="item" s-for-index="index" s-key="index"><view class="grid white-color box box-align-center box-pack-center" data-idx="{{index}}"><view class="{{['day box box-align-center box-pack-center',item.choosed?'border-radius':'']}}" style="{{'background:'+(item.choosed?baseinfo.base_color:'')+';'}}">{{item.day}}</view></view></block></view></view></view><block s-if="{{showPicker}}"><view class="box box-tb"><view class="picker-btns box box-lr box-pack-between box-align-center"><view class="picker-btn picker-cancel" data-type="cancel" data-event-opts="{{[['tap',[['tapPickerBtn',['$event']]]]]}}" bindtap="__e">取消</view><view class="picker-btn picker-confirm" data-type="confirm" data-event-opts="{{[['tap',[['tapPickerBtn',['$event']]]]]}}" bindtap="__e">确定</view></view><picker-view class="flexs" style="width:100%;height:150px;" indicator-style="height: 50px;" value="{{picker_value}}" data-event-opts="{{[['change',[['pickerChange',['$event']]]]]}}" bindchange="__e"><picker-view-column><block s-for="{{picker_year}}" s-for-item="item" s-for-index="k1" s-key="k1"><view class="picker-view" style="line-height:50px;">{{item+"年"}}</view></block></picker-view-column><picker-view-column><block s-for="{{picker_month}}" s-for-item="item" s-for-index="k2" s-key="k2"><view class="picker-view" style="line-height:50px;">{{item+"月"}}</view></block></picker-view-column></picker-view></view></block><block s-if="{{is_today==0}}"><view data-event-opts="{{[['tap',[['qiandao',['$event']]]]]}}" class="ljqd" style="{{('background-color:'+baseinfo.base_color2)}}" bindtap="__e">立即签到</view></block><block s-if="{{is_today==1}}"><view class="ljqd" style="background-color:gray;">已签到</view></block><view class="hjjl"><text>签到记录</text></view><block s-for="{{jilu}}" s-for-item="item" s-for-index="k" s-key="k"><view class="qdnr"><image src="{{userinfo.avatar}}"></image><view class="qdnr_view"><text class="qdnr_text1">{{userinfo.nickname}}</text><text class="qdnr_text2">{{item.creattime}}</text></view><view class="qdnr_right">{{"+"+item.score}}</view></view></block></view><block s-if="{{signsuccess==1}}"><view class="zhezhao"><view class="sign"><view>签到成功</view><image style="width:190rpx;display:block;" src="{{$imgurl+'sign.png'}}" mode="widthFix"></image><button data-event-opts="{{[['tap',[['pulls',['$event']]]]]}}" style="margin:0 auto;" bindtap="__e">确定</button></view></view></block></view>