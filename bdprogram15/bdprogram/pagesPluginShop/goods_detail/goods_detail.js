(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesPluginShop/goods_detail/goods_detail"],{"082f":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i("2f62");var a=n(i("37b1"));function n(t){return t&&t.__esModule?t:{default:t}}var s=i("88e4"),o={data:function(){return{$imgurl:this.$imgurl,isplay:!1,bg:"",picList:[],datas:"",sc:0,nowcon:"con",is_comment:0,comm:0,commSelf:0,comments:[],commShow:0,shareShow:0,shareScore:0,shareNotice:0,content:"",con2:"",con3:"",fxsid:0,shareHome:0,tel:"",suid:"",baseinfo:"",pic_video:"",currentSwiper:0,minHeight:220,heighthave:0,autoplay:!0,shareimg:0,share:0,shareimg_url:"",system_w:0,system_h:0,img_w:0,img_h:0,dlength:0,needAuth:!1,needBind:!1}},onLoad:function(e){var i=this,a=t.getStorageSync("suid");this.suid=a;var n=e.id;this.id=n;var o=0;e.fxsid&&(o=e.fxsid,t.setStorageSync("fxsid",o)),this.fxsid=o;var u="";e.tel&&(u=e.tel,this.tel=u);a=t.getStorageSync("suid");this._baseMin(this),a?s.bdLogin(o,function(){i.getShowPic(n)}):this.getShowPic(n);var c=t.getStorageSync("systemInfo");this.img_w=parseInt((.65*c.windowWidth).toFixed(0)),this.img_h=parseInt((1.875*this.img_w).toFixed(0)),this.system_w=parseInt(c.windowWidth),this.system_h=parseInt(c.windowHeight)},onShow:function(){this.suid=t.getStorageSync("suid"),this._baseMin(this),this.getShowPic()},onShareAppMessage:function(){var e=this,i=t.getStorageSync("suid"),a=e.id,n="/pagesPluginShop/goods_detail/goods_detail?id="+a+"&fxsid="+i+"&userid="+i;return{title:e.title,path:n,success:function(t){}}},methods:{getShowPic:function(e){var i=this;t.request({url:i.$baseurl+"doPageshowPro_W",data:{uniacid:i.$uniacid,id:i.id,suid:i.suid},success:function(e){i.picList=e.data.data.images,i.dlength=i.picList.length,i.title=e.data.data.title,i.datas=e.data.data,i.pic_video=e.data.data.video,i.sc=e.data.data.collectcount,t.setNavigationBarTitle({title:i.title}),t.setStorageSync("isShowLoading",!1),t.hideNavigationBarLoading(),t.stopPullDownRefresh(),i.datas.descp&&(i.datas.descp=i.datas.descp.replace(/\<img/gi,'<img style="width:100%;height:auto;display:block" '),i.datas.descp=(0,a.default)(i.datas.descp))}}),setTimeout(function(){if("1"==i.comm&&"0"!=i.commSelf||"1"==i.commSelf){i.comms;i.commShow=1,t.request({url:i.$baseurl+"doPagegetComment",data:{uniacid:i.$uniacid,id:i.$id,comms:i.$comms},success:function(t){""!=t.data&&(i.comments=t.data.data,i.is_comment=1)}})}},500)},collect:function(e){if(!this.getSuid())return!1;var i=this;e.currentTarget.dataset.name;t.request({url:i.$baseurl+"doPageCollect",data:{uniacid:i.$uniacid,suid:i.suid,types:"shopsPro",id:i.id},success:function(e){var a=e.data.data;i.sc="收藏成功"==a?1:0,t.showToast({title:a,icon:"succes",duration:1e3,mask:!0})}})},cell:function(){this.needAuth=!1},closeAuth:function(){this.needAuth=!1,this.needBind=!0},closeBind:function(){this.needBind=!1},getSuid:function(){var e=t.getStorageSync("suid");if(e)return!0;var i="";return i=t.getStorageSync("baidu_userinfo"),i?this.needBind=!0:this.needAuth=!0,!1},makePhoneCall:function(e){var i=e.currentTarget.dataset.tel;t.makePhoneCall({phoneNumber:i})},swiperLoad:function(e){var i=this;t.getSystemInfo({success:function(t){var a=e.detail.width,n=e.detail.height,s=a/n,o=t.windowWidth/s;i.heighthave||(i.minHeight=o,i.heighthave=1)}})},swiperChange:function(t){this.autoplay=!0,this.currentSwiper=t.detail.current,this.isplay=!1,this.autoplay=this.autoplay},playvideo:function(){var t=this;t.autoplay=!1,t.isplay=!0,t.autoplay=t.autoplay},endvideo:function(){var t=this;t.autoplay=!0,t.isplay=!1,t.autoplay=t.autoplay},goBuy:function(e){if(!this.getSuid())return!1;var i=e.currentTarget.dataset.gid;t.navigateTo({url:"/pagesPluginShop/goods_buy/goods_buy?id="+i})},open_share:function(){this.share=1},share_close:function(){this.share=0,this.shareimg=0},h5ShareAppMessage:function(){var e=this,i=t.getStorageSync("suid");t.showModal({title:"长按复制链接后分享",content:this.$host+"/h5/index.html?id="+this.$uniacid+"#/pagesPluginShop/goods_detail/goods_detail?id="+this.id+"&fxsid="+i+"&userid="+i,showCancel:!1,success:function(t){e.share=0}})},getShareImg:function(){t.showToast({title:"暂不支持生成分享海报",icon:"none"})},closeShare:function(){this.shareimg=0},saveImg:function(){var e=this;t.getImageInfo({src:e.shareimg_url,success:function(i){t.saveImageToPhotosAlbum({filePath:i.path,success:function(){t.showToast({title:"保存成功！",icon:"none"}),e.shareimg=0,e.share=0}})}})},aliSaveImg:function(){var e=this;t.getImageInfo({src:e.shareimg_url,success:function(t){my.saveImage({url:t.path,showActionSheet:!0,success:function(){my.alert({title:"保存成功"}),e.shareimg=0,e.share=0}})}})}}};e.default=o}).call(this,i("5486")["default"])},"2f9b":function(t,e,i){"use strict";var a={auth:()=>Promise.all([i.e("common/vendor"),i.e("components/auth/auth")]).then(i.bind(null,"a32a")),bindPhone:()=>Promise.all([i.e("common/vendor"),i.e("components/bindPhone/bindPhone")]).then(i.bind(null,"9bb9"))},n=function(){var t=this,e=t.$createElement;t._self._c},s=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return s}),i.d(e,"a",function(){return a})},"4afe":function(t,e,i){"use strict";var a=i("feb8"),n=i.n(a);n.a},"6dbf":function(t,e,i){"use strict";i.r(e);var a=i("082f"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},c779:function(t,e,i){"use strict";(function(t){i("d28f");a(i("66fd"));var e=a(i("dd8c"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("5486")["createPage"])},dd8c:function(t,e,i){"use strict";i.r(e);var a=i("2f9b"),n=i("6dbf");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("4afe");var o,u=i("f0c5"),c=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=c.exports},feb8:function(t,e,i){}},[["c779","common/runtime","common/vendor"]]]);