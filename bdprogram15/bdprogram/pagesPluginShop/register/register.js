(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesPluginShop/register/register"],{"6c95":function(t,e,n){},"8be8":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n("2f62");var o=a(n("37b1"));function a(t){return t&&t.__esModule?t:{default:t}}var s=n("88e4"),c={data:function(){return{$imgurl:this.$imgurl,baseinfo:"",needAuth:!1,needBind:!1,page_signs:"/pagesPluginShop/shop/shop",imgUrls:[],indicatorDots:!1,autoplay:!1,interval:5e3,duration:1e3,check:0,yyzz:"",logo:"",avatar:"",nickname:"",slide:"",catename:"请选择所属分类",apply_success:!1,system_name:"",category:[],cid:"",latlong:"",xieyi_block:0,protocol:"",h:1e3,username:"",password:"",name:"",tel:"",address:"",worktime:"",intro:""}},onLoad:function(e){var n=this;this._baseMin(this);var i=t.getStorageSync("suid"),o=0;if(i)s.bdLogin(o,function(){n.is_apply()});else{this.is_apply();var a=t.getStorageSync("baidu_userinfo");a?this.needBind=!0:this.needAuth=!0}},methods:{cell:function(){this.needAuth=!1},closeAuth:function(){this.needAuth=!1,this.needBind=!0},closeBind:function(){this.needBind=!1,this.vipinfo()},getSuid:function(){var e=t.getStorageSync("suid");if(e)return!0;var n="";return n=t.getStorageSync("baidu_userinfo"),n?this.needBind=!0:this.needAuth=!0,!1},is_apply:function(){var e=this;t.request({url:e.$baseurl+"doPageis_apply",data:{uniacid:e.$uniacid,suid:i.getStorageSync("suid")},success:function(n){1==e.baseinfo.can_show&&(t.setNavigationBarTitle({title:"商户入驻"}),1==n.data.is_apply&&t.showModal({title:"提示",showCancel:!1,content:"您已提交申请，请等待管理员审核",success:function(e){t.redirectTo({url:"/pages/index/index"})}}),2==n.data.is_apply&&t.redirectTo({url:"/pagesPluginShop/manage_index/manage_index"}),3==n.data.is_apply&&(t.showModal({title:"提示",showCancel:!1,content:"您的申请未通过，请重新申请！"}),e.getslide_m()),0==n.data.is_apply&&e.getslide_m())}})},getslide_m:function(){var t=this;i.request({url:t.$baseurl+"doPagegetslide_m",data:{uniacid:t.$uniacid},success:function(e){e.data.data.protocol&&(t.protocol=(0,o.default)(e.data.data.protocol)),t.system_name=e.data.data.system_name,t.slide=e.data.data.bg,t.category=e.data.data.category}})},bindPickerChange:function(t){var e=this,n=t.detail.value;e.cid=e.category[n].id,e.catename=e.category[n].name},getLatlong:function(){var e=this;t.chooseLocation({success:function(t){e.latlong=Math.floor(1e6*t.latitude)/1e6+","+Math.floor(1e6*t.longitude)/1e6}})},yyzz_upload:function(){var e=this,n=e.$baseurl+"wxupimg";t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(i){t.showLoading({title:"图片上传中"});var o=i.tempFilePaths;t.uploadFile({url:n,formData:{uniacid:e.$uniacid},filePath:o[0],name:"file",success:function(n){var i=n.data;e.yyzz=i,t.hideLoading()}})}})},logo_upload:function(){var e=this,n=e.$baseurl+"wxupimg";t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(i){t.showLoading({title:"图片上传中"});var o=i.tempFilePaths;t.uploadFile({url:n,formData:{uniacid:e.$uniacid},filePath:o[0],name:"file",success:function(n){var i=n.data;e.logo=i,t.hideLoading()}})}})},check_change:function(){var t=this,e=t.check;t.check=0==e?1:0},xieyi_close:function(){this.xieyi_block=0,this.check=1},xieyi_hidden:function(){this.xieyi_block=1},ipt_username:function(t){this.username=t.detail.value},ipt_password:function(t){this.password=t.detail.value},ipt_name:function(t){this.name=t.detail.value},ipt_tel:function(t){this.tel=t.detail.value},ipt_address:function(t){this.address=t.detail.value},ipt_worktime:function(t){this.worktime=t.detail.value},ipt_intro:function(t){this.intro=t.detail.value},formSubmit2:function(e){if(!this.getSuid())return!1;var n=this,o=n.check;if(0==o)return t.showToast({title:"请先阅读协议",icon:"none"}),!1;var a={},s=this.username;if(""==s)return t.showModal({title:"提示",content:"请输入登录账号",showCancel:!1}),!1;a["username"]=s;var c=this.password;if(""==c)return t.showModal({title:"提示",content:"请输入密码",showCancel:!1}),!1;a["password"]=c;var l=this.cid;if(null==l||""==l)return t.showModal({title:"提示",content:"请选择分类",showCancel:!1}),!1;a["cid"]=l;var r=this.name;if(""==r)return t.showModal({title:"提示",content:"请输入商户名称",showCancel:!1}),!1;a["name"]=r;var u=this.tel;if(""==u)return t.showModal({title:"提示",content:"请输入商户电话",showCancel:!1}),!1;a["tel"]=u;var d=this.address;if(""==d)return t.showModal({title:"提示",content:"请输入商户地址",showCancel:!1}),!1;a["address"]=d;var h=this.latlong;if(""==h)return t.showModal({title:"提示",content:"请填写经纬度",showCancel:!1}),!1;a["latlong"]=h;var f=this.worktime;if(""==f)return t.showModal({title:"提示",content:"请输入营业时间",showCancel:!1}),!1;a["worktime"]=f;var g=this.intro;if(""==g)return t.showModal({title:"提示",content:"请输入一句话简介",showCancel:!1}),!1;a["intro"]=g;var p=this.yyzz;if(""==p)return t.showModal({title:"提示",content:"请上传营业执照",showCancel:!1}),!1;a["yyzz"]=p;var m=this.logo;if(""==m)return t.showModal({title:"提示",content:"请上传商户logo",showCancel:!1}),!1;a["logo"]=m;var w=t.getStorageSync("openid");t.request({url:n.$baseurl+"doPageshopApply",data:{uniacid:n.$uniacid,suid:t.getStorageSync("suid"),openid:w,source:t.getStorageSync("source"),formdata:JSON.stringify(a),formID:""},success:function(e){console.log(e),-1==e.data.data?t.showModal({title:"提示",content:"申请失败, 登录账号重复!",showCancel:!1}):t.showModal({title:"提示",content:"申请成功",showCancel:!1,success:function(){i.redirectTo({url:"/pages/index/index"})}})}})},formSubmit:function(e){if(!this.getSuid())return!1;var n=this,o=n.check;if(0==o)return t.showToast({title:"请先阅读协议",icon:"none"}),!1;var a=e.detail.formId,s=e.detail.value;if(""==s["username"])return t.showModal({title:"提示",content:"请输入登录账号",showCancel:!1}),!1;if(""==s["password"])return t.showModal({title:"提示",content:"请输入密码",showCancel:!1}),!1;if(s["cid"]=n.cid,null==s["cid"]||""==s["cid"])return t.showModal({title:"提示",content:"请选择分类",showCancel:!1}),!1;if(""==s["name"])return t.showModal({title:"提示",content:"请输入商户名称",showCancel:!1}),!1;if(""==s["tel"])return t.showModal({title:"提示",content:"请输入商户电话",showCancel:!1}),!1;if(""==s["address"])return t.showModal({title:"提示",content:"请输入商户地址",showCancel:!1}),!1;if(""==s["latlong"])return t.showModal({title:"提示",content:"请填写经纬度",showCancel:!1}),!1;if(""==s["worktime"])return t.showModal({title:"提示",content:"请输入营业时间",showCancel:!1}),!1;if(""==s["intro"])return t.showModal({title:"提示",content:"请输入一句话简介",showCancel:!1}),!1;if(""==s["yyzz"])return t.showModal({title:"提示",content:"请上传营业执照",showCancel:!1}),!1;if(""==s["logo"])return t.showModal({title:"提示",content:"请上传商户logo",showCancel:!1}),!1;var c=t.getStorageSync("openid");t.request({url:n.$baseurl+"doPageshopApply",data:{uniacid:n.$uniacid,suid:t.getStorageSync("suid"),openid:c,source:t.getStorageSync("source"),formdata:JSON.stringify(s),formID:a},success:function(e){console.log(e),-1==e.data.data?t.showModal({title:"提示",content:"申请失败, 登录账号重复!",showCancel:!1}):t.showModal({title:"提示",content:"申请成功",showCancel:!1,success:function(){i.redirectTo({url:"/pages/index/index"})}})}})}}};e.default=c}).call(this,n("5486")["default"],n("5486")["default"])},"8d25":function(t,e,n){"use strict";var i={auth:()=>Promise.all([n.e("common/vendor"),n.e("components/auth/auth")]).then(n.bind(null,"a32a")),bindPhone:()=>Promise.all([n.e("common/vendor"),n.e("components/bindPhone/bindPhone")]).then(n.bind(null,"9bb9"))},o=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return i})},af69:function(t,e,n){"use strict";var i=n("6c95"),o=n.n(i);o.a},b287:function(t,e,n){"use strict";n.r(e);var i=n("8d25"),o=n("ea8d");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("af69");var s,c=n("f0c5"),l=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=l.exports},d3c6:function(t,e,n){"use strict";(function(t){n("d28f");i(n("66fd"));var e=i(n("b287"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("5486")["createPage"])},ea8d:function(t,e,n){"use strict";n.r(e);var i=n("8be8"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a}},[["d3c6","common/runtime","common/vendor"]]]);